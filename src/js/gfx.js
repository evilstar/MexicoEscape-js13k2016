$.GFX_COLOR_TABLE = {
  "a": "000|000|000|000",
  "b": "047|026|027|255",
  "c": "073|044|040|255",
  "d": "167|113|092|255",
  "e": "146|146|146|255",
  "f": "000|255|255|255",
  "g": "203|203|203|255",
  "h": "255|125|000|255",
  "i": "255|065|000|255",
  "j": "223|192|126|255",
  "k": "228|185|090|255",
  "l": "179|145|072|255",
  "m": "128|098|032|255",
  "n": "084|058|002|255",
  "o": "210|154|055|255",
  "p": "195|128|028|255",
  "q": "036|150|001|255",
  "r": "022|095|000|255",
  "s": "012|049|000|255",
  "t": "255|054|000|255",
  "u": "113|024|001|255",
  "v": "195|042|002|255",
  "w": "150|032|001|255",
  "x": "213|195|178|255",
  "y": "183|167|151|255",
  "z": "176|161|147|255",
  "A": "145|133|121|255",
  "L": "000|000|000|000",
  "B": "225|206|189|255",
  "C": "234|197|077|255",
  "D": "239|224|211|255",
  "E": "046|054|044|255",
  "F": "085|096|081|255",
  "G": "041|049|038|255",
  "H": "118|131|114|255",
  "I": "068|091|062|255",
  "J": "032|041|029|255",
  "K": "068|090|062|255"
};

$.GFX = {
  bg_layer_1: {
    w: 640,
    h: 236,
    canvas: null,
    ctx: null,
    pack: "a83.b6.a629.b19.a620.b21.a619.b22.a618.b22.a616.b24.a616.b24.a616.b24.a615.b25.a458.b3.a154.b26.a455.b7.a151.b27.a454.b8.a151.b27.a453.b9.a151.b27.a452.b11.a150.b28.a450.b13.a149.b29.a131.b.a316.b15.a148.b29.a131.b.a315.b17.a147.b29.a131.b.a315.b18.a145.b30.a131.b.a313.b21.a144.b30.a130.b2.a311.b24.a143.b30.a130.b2.a310.b26.a141.b31.a130.b2.a302.b37.a137.b32.a130.b2.a301.b41.a131.b35.a130.b2.a300.b44.a129.b36.a129.b2.a299.b46.a128.b36.a128.b3.a298.b48.a127.b37.a126.b4.a297.b50.a125.b38.a126.b4.a296.b51.a125.b39.a125.b4.a286.b3.a.b2.a4.b51.a124.b40.a125.b4.a283.b10.a2.b52.a123.b41.a125.b5.a280.b13.a.b53.a8.b2.a6.b11.a95.b41.a125.b5.a273.b3.a3.b69.a6.b21.a92.b44.a124.b5.a269.b80.a3.b24.a89.b46.a123.b7.a240.b3.a.b2.a20.b82.a2.b26.a2.b3.a82.b48.a122.b7.a237.b.a2.b7.a18.b118.a78.b50.a122.b8.a235.b12.a15.b121.a75.b53.a120.b9.a234.b13.a14.b124.a58.b7.a6.b57.a3.b3.a.b2.a109.b9.a233.b18.a9.b126.a52.b76.a2.b7.a108.b9.a200.b3.a.b2.a23.b23.a2.b.a3.b129.a50.b87.a107.b10.a196.b.a2.b7.a20.b29.a.b131.a48.b88.a106.b11.a131.b2.a62.b12.a17.b164.a45.b94.a102.b12.a129.b13.a44.b3.a.b2.a.b13.a15.b168.a18.b5.a18.b97.a2.b.a36.b3.a.b2.a56.b12.a127.b16.a40.b.a.b25.a10.b173.a11.b10.a10.b107.a23.b2.a2.b3.a.b12.a53.b13.a72.b4.a50.b20.a.b2.a33.b29.a2.b.a2.b181.a4.b14.a7.b113.a16.b24.a51.b15.a69.b16.a39.b26.a30.b234.a5.b116.a14.b26.a49.b20.a.b2.a61.b27.a28.b28.a28.b359.a9.b32.a39.b31.a14.b3.a.b2.a15.b9.a14.b31.a25.b29.a26.b361.a3.b3.a.b36.a33.b35.a10.b12.a10.b12.a13.b32.a23.b32.a23.b363.a2.b44.a27.b38.a8.b14.a8.b14.a11.b34.a21.b35.a.b.a18.b412.a23.b42.a5.b16.a6.b15.a10.b36.a4.b3.a.b2.a10.b39.a14.b415.a21.b45.a.b19.a4.b20.a6.b49.a7.b42.a8.b419.a9.b3.a.b2.a3.b93.a.b.a.b51.a4.b46.a5.b422.a4.b.a2.b157.a2.b49.a2.b425.a.b117565"
  },
  bg_layer_2: {
    w: 640,
    h: 175,
    canvas: null,
    ctx: null,
    pack: "a574.c12.a622.c24.a612.c32.a605.c38.a589.c54.a580.c62.a574.c68.a198.c12.a359.c73.a59.c12.a64.c12.a21.c12.a10.c24.a10.c12.a328.c82.a47.c24.a52.c24.a9.c80.a254.c12.a16.c12.a26.c90.a37.c32.a44.c32.a.c88.a244.c24.a4.c24.a18.c96.a30.c38.a23.c142.a237.c60.a12.c101.a24.c44.a14.c151.a134.c12.a16.c12.a57.c66.a3.c113.a7.c57.a8.c157.a104.c12.a10.c24.a4.c24.a10.c12.a16.c261.a3.c162.a96.c108.a4.c434.a90.c556.a81.c565.a72.c572.a13.c.a23.c.a19.c586.a5.c11.a13.c11.a8.c99547"
  },
  bg_layer_3: {
    w: 640,
    h: 122,
    canvas: null,
    ctx: null,
    pack: "a236.d26.a599.d45.a591.d63.a360.d6.a199.d7.a.d76.a345.d20.a92.d9.a88.d106.a317.d32.a83.d24.a74.d120.a302.d41.a77.d43.a23.d10.a15.d134.a293.d60.a60.d236.a279.d69.a55.d239.a272.d83.a45.d246.a261.d112.a14.d263.a246.d399.a236.d413.a223.d426.a204.d441.a183.d462.a159.d486.a150.d495.a141.d530.a88.d572.a39.d4.a23.d65409"
  },
  player: {
    w: 41,
    h: 89,
    canvas: null,
    ctx: null,
    pack: "a14.q.a40.r.a40.r.q.a39.s.r.a39.s.r.q.a39.s.r.q.a39.s.r.q.a39.s.r2.q.a38.s.r2.q.a38.s.r2.a39.s.r2.q.a37.s.r2.q.a37.s.r3.a36.s2.r3.q.a35.s.r.s.r3.a30.s4.r.s.r.s.r3.q6.a23.s4.r.s.r.s.r6.q.r.q.r.q2.a20.s4.r.s.r.s.r8.q.r.q.r2.q.a18.s4.r.s.r.s.r12.q.r2.q.a16.s6.r.s.r14.t.s.r.q.a14.s6.r.s.r5.q.r8.t4.s.a14.u2.s3.r.s.r.s.v2.s.q.r.q.v2.s.r4.q.t5.a13.u.w2.s3.r.s.v.w.v.w.s.q.v4.s2.r.q.r.q.t5.a11.u2.w2.s2.r.s.v.w.v9.t.v.s2.r.q.t5.a11.u2.w7.v.w.v.w.v7.t.v.t9.a9.u2.w7.v.w.v11.t.v.t8.a9.u2.w8.v.w.v.w.v7.t.v.t10.a8.u2.w7.v.w.v11.t.v.t9.a8.u2.w6.v.w.v11.t.v.t.v.t8.a7.u2.w8.v.w.v.w.v9.t.v.t.v2.t6.a7.u2.w7.v.w.v13.t.x2.y.v.t6.a6.u2.w8.v14.x4.y.v.t5.a6.u2.w7.v.w.v.w.v11.x2.z.A.y.v.t5.a6.u2.w8.v14.x2.z.A.y.v.t5.a6.u2.w7.v.w.v.w.v11.x4.y.v.t5.a6.u2.w6.v.w.v15.x2.y.v.t6.a6.u2.w7.v.w.v.w.v11.t.v.t.v.t7.a6.u2.w6.v.w.v15.t.v.t8.a6.u2.w7.v.w.v.w.v11.t.v.t9.a6.u2.w6.v.w.v13.t.v.t.v.t8.a7.u.w6.v.w.v14.t.v.t8.a8.u2.w6.v.w.v.w.v10.t.v.t9.a9.u.w5.v.w.v14.t.v.t2.x.y.t4.a9.u.w6.v.w.v.w.v10.t.v.t3.x.y.t4.a10.w7.v14.t9.a11.w6.v.w.v12.t.v.t8.a11.u.w6.v.w.v.w.v10.t8.a13.w5.v.w.v12.t.v.t6.a14.w6.v.w.v.w.v8.t.v.t7.a14.w5.v.w.v12.t8.a14.w6.v.w.v.w.v8.t.v.t6.a15.w5.v.w.v10.t.v.t7.a15.w4.v.w.v.w.v.w.v6.t.v.t8.a15.w5.v.w.v10.t.v.t6.a16.w4.v.w.v.w.v.w.v6.t.v.t7.a16.w5.v.w.v10.t8.a16.w4.v.w.v10.t.v.t6.a17.w3.v.w.v.w.v.w.v6.t.v.t.v.t5.a17.w4.v.w.v10.t.v.t5.a18.w3.v.w.v10.t.v.t6.a18.w2.v.w.v.w.v.w.v6.t.v.t6.a18.u.w3.v.w.v8.t.v.t.v.t5.a18.w3.v.w.v10.t.v.t5.a19.w4.v.w.v.w.v6.t.v.t6.a19.w3.v.w.v8.t.v.t6.a19.w3.v.w.v2.w.v5.t.v.t7.a19.w2.v.w.v10.t7.a20.w3.v.w.v.w.v6.t.v.t5.a20.u.w2.v.w.v8.t.v.t6.a20.w4.v.w.v.w.v6.t6.a21.w3.v.w.v8.t.v.t4.a22.w2.v.w.v10.t5.a22.w3.v.w.v.w.v7.t4.a23.w2.v.w.v9.t5.a23.w3.v.w.v.w.v6.t4.a23.u.w2.v.w.v9.t3.a24.w2.v.w.v.w.v.w.v5.t3.a25.w3.v.w.v8.t2.a26.w2.v.w.v2.w.v5.t2.a26.w2.v.w.v8.t3.a26.w3.v.w.v.w.v4.t3.a26.u.w2.v.w.v5.t4.a26.u.w2.v.w.v5.t4.a27.u.w3.v.w.v.w.v.t3.a28.u.w3.v.w.v3.t2.a29.u.w3.v.w.v2.w.t.a30.u2.w2.v.w.v3.a32.u.w4.v.w.a35.w3.v.a36"
  },
  sombrero: {
    w: 235,
    h: 105,
    canvas: null,
    ctx: null,
    pack: "a105.j25.a210.j25.a210.j25.a210.j25.a210.j25.a205.j5.k5.l5.k5.l5.k5.j5.a200.j5.k5.l5.k5.l5.k5.j5.a200.j5.k5.l5.k5.l5.k5.j5.a200.j5.k5.l5.k5.l5.k5.j5.a200.j5.k5.l5.k5.l5.k5.j5.a200.k5.l5.k5.l5.k5.l5.k5.a200.k5.l5.k5.l5.k5.l5.k5.a200.k5.l5.k5.l5.k5.l5.k5.a200.k5.l5.k5.l5.k5.l5.k5.a200.k5.l5.k5.l5.k5.l5.k5.a195.j5.l5.k5.l5.k5.l5.k5.l5.j5.a190.j5.l5.k5.l5.k5.l5.k5.l5.j5.a190.j5.l5.k5.l5.k5.l5.k5.l5.j5.a190.j5.l5.k5.l5.k5.l5.k5.l5.j5.a190.j5.l5.k5.l5.k5.l5.k5.l5.j5.a185.j5.l5.k5.l25.k5.l5.j5.a180.j5.l5.k5.l25.k5.l5.j5.a180.j5.l5.k5.l25.k5.l5.j5.a180.j5.l5.k5.l25.k5.l5.j5.a180.j5.l5.k5.l25.k5.l5.j5.a180.l20.k5.l5.k5.l20.a180.l20.k5.l5.k5.l20.a180.l20.k5.l5.k5.l20.a180.l20.k5.l5.k5.l20.a180.l20.k5.l5.k5.l20.a175.l5.k5.l5.k5.l25.k5.l5.k5.l5.a170.l5.k5.l5.k5.l25.k5.l5.k5.l5.a170.l5.k5.l5.k5.l25.k5.l5.k5.l5.a170.l5.k5.l5.k5.l25.k5.l5.k5.l5.a170.l5.k5.l5.k5.l25.k5.l5.k5.l5.a170.l65.a170.l65.a170.l65.a170.l65.a170.l65.a170.l65.a170.l65.a170.l65.a170.l65.a170.l65.a170.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.a170.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.a170.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.a170.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.a170.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.a165.l75.a160.l75.a160.l75.a160.l75.a160.l75.a80.l10.a70.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.a70.l20.a70.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.a70.l20.a70.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.a70.l20.a70.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.a70.l20.a70.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.a70.l30.a60.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.a60.l40.a60.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.a60.l40.a60.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.a60.l40.a60.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.a60.l40.a60.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.a60.l20.a5.l25.a50.m5.n5.m5.n5.m5.n5.m5.n5.m5.n5.m5.n5.m5.n5.m5.a50.l25.a10.l25.a50.m5.n5.m5.n5.m5.n5.m5.n5.m5.n5.m5.n5.m5.n5.m5.a50.l25.a10.l25.a50.m5.n5.m5.n5.m5.n5.m5.n5.m5.n5.m5.n5.m5.n5.m5.a50.l25.a10.l25.a50.m5.n5.m5.n5.m5.n5.m5.n5.m5.n5.m5.n5.m5.n5.m5.a50.l25.a10.l25.a50.m5.n5.m5.n5.m5.n5.m5.n5.m5.n5.m5.n5.m5.n5.m5.a50.l25.a10.l10.m5.l35.k5.l5.k5.l5.k85.l5.k5.l5.k5.l35.m5.l10.a10.l10.m5.l35.k5.l5.k5.l5.k85.l5.k5.l5.k5.l35.m5.l10.a10.l10.m5.l35.k5.l5.k5.l5.k85.l5.k5.l5.k5.l35.m5.l10.a10.l10.m5.l35.k5.l5.k5.l5.k85.l5.k5.l5.k5.l35.m5.l10.a10.l10.m5.l35.k5.l5.k5.l5.k85.l5.k5.l5.k5.l35.m5.l10.a10.l10.k5.l10.m5.l5.m5.l145.m5.l5.m5.l5.k5.l15.a10.l10.k5.l10.m5.l5.m5.l145.m5.l5.m5.l5.k5.l15.a10.l10.k5.l10.m5.l5.m5.l145.m5.l5.m5.l5.k5.l15.a10.l10.k5.l10.m5.l5.m5.l145.m5.l5.m5.l5.k5.l15.a10.l10.k5.l10.m5.l5.m5.l145.m5.l5.m5.l5.k5.l15.a15.k5.o5.k5.l5.k5.l10.k5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.k5.l10.k5.l5.k10.o5.l5.a20.k5.o5.k5.l5.k5.l10.k5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.k5.l10.k5.l5.k10.o5.l5.a20.k5.o5.k5.l5.k5.l10.k5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.k5.l10.k5.l5.k10.o5.l5.a20.k5.o5.k5.l5.k5.l10.k5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.k5.l10.k5.l5.k10.o5.l5.a20.k5.o5.k5.l5.k5.l10.k5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.l5.m5.k5.l10.k5.l5.k10.o5.l5.a20.o5.k5.o5.k5.o5.k5.o5.k10.l5.k5.l10.k5.l10.k5.l10.k5.l10.k5.l10.k5.l10.k5.l10.k5.l5.k15.o5.k5.o5.k5.o5.k5.m5.a20.o5.k5.o5.k5.o5.k5.o5.k10.l5.k5.l10.k5.l10.k5.l10.k5.l10.k5.l10.k5.l10.k5.l10.k5.l5.k15.o5.k5.o5.k5.o5.k5.m5.a20.o5.k5.o5.k5.o5.k5.o5.k10.l5.k5.l10.k5.l10.k5.l10.k5.l10.k5.l10.k5.l10.k5.l10.k5.l5.k15.o5.k5.o5.k5.o5.k5.m5.a20.o5.k5.o5.k5.o5.k5.o5.k10.l5.k5.l10.k5.l10.k5.l10.k5.l10.k5.l10.k5.l10.k5.l10.k5.l5.k15.o5.k5.o5.k5.o5.k5.m5.a20.o5.k5.o5.k5.o5.k5.o5.k10.l5.k5.l10.k5.l10.k5.l10.k5.l10.k5.l10.k5.l10.k5.l10.k5.l5.k15.o5.k5.o5.k5.o5.k5.m5.a25.p5.o10.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o10.p5.a30.p5.o10.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o10.p5.a30.p5.o10.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o10.p5.a30.p5.o10.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o10.p5.a30.p5.o10.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o10.p5.a40.p5.o25.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o25.p5.a50.p5.o25.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o25.p5.a50.p5.o25.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o25.p5.a50.p5.o25.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o25.p5.a50.p5.o25.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o5.k5.o25.p5.a75.p5.o125.p5.a100.p5.o125.p5.a100.p5.o125.p5.a100.p5.o125.p5.a100.p5.o125.p5.a50"
  },
  peyote: {
    w: 21,
    h: 23,
    canvas: null,
    ctx: null,
    pack: "L3.B3.L3.C.L.C.L3.B3.L4.D4.B3.C.L.C.L.C.B3.D4.L.D6.B.C.B.C3.B.C.B.D9.L.D4.C5.D4.L.D5.L3.D11.L3.D2.L4.E2.F.D7.G.H2.L7.E3.F.I.E.I.J.I.H.I.G.k.H2.L5.E3.F.I.E.I2.J.I4.G.k.H2.L4.E3.F.E.I2.E.J.I.H.I.H.G.H3.L3.E3.F.E.I4.J.I4.H.G.H3.L2.E3.F.I.E.I.E.I.J.I2.H.I2.G.k.H2.L.E4.F.E.I4.J.I5.G.H4.E3.F.E.I2.E.I2.J.I3.H.I.H.G.H3.E3.F.I6.J.I6.G.H3.E3.F.E.I.E.I3.J.I3.H.I.H.G.H3.E4.F.I5.J.I5.G.H4.E3.k.F.I.E.I3.J.I2.H.I2.G.k.H3.E4.F.I5.J.I4.H.G.H4.L.E2.k.E.F.I.E.I2.J.I4.G.H4.L2.E3.k.F.I4.J.I.H.I2.G.k.H3.L3.E3.I.F.I3.J.I3.G.I.H3.L6.E2.F.E.k2.J.k2.H.G.H2.L9.E2.F.E.k.J.k.H.G.H2.L5"
  }
};

$.unpackColorTable = function() {
  Object.keys($.GFX_COLOR_TABLE).forEach(function(label) {
    $.GFX_COLOR_TABLE[label] = $.GFX_COLOR_TABLE[label].split("|").map(function(s) {return parseInt(s);});
  });
};

$.unpackGFX = function(cb) {
  $.unpackColorTable();

  Object.keys($.GFX).forEach(function(g) {
    var gfx = $.GFX[g];
    gfx.ctx = (gfx.canvas = document.createElement("canvas")).getContext("2d");
    gfx.canvas.webkitImageSmoothingEnabled = false;
    gfx.canvas.mozImageSmoothingEnabled = false;
    gfx.canvas.imageSmoothingEnabled = false;

    gfx.canvas.width = gfx.w;
    gfx.canvas.height = gfx.h;

    if(gfx.pack) {

      var m = [], k, packs, idx;

      packs = gfx.pack.split('.');
      for(idx in packs) {
        k = parseInt(packs[idx].substr(1), 10);
        k = ( isNaN(k) ? 1 : k );
        while(k--)
          m.push(
              $.GFX_COLOR_TABLE[packs[idx][0]][0],
              $.GFX_COLOR_TABLE[packs[idx][0]][1],
              $.GFX_COLOR_TABLE[packs[idx][0]][2],
              $.GFX_COLOR_TABLE[packs[idx][0]][3]
          );
      }

      gfx.ctx.putImageData(new ImageData(new Uint8ClampedArray(m), gfx.w, gfx.h), 0, 0);
    }

    /*gfx.canvas.style.top = gfx.h + "px";
    document.body.appendChild(gfx.canvas);*/

  });

  cb();
};